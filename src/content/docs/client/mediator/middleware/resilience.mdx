---
title: REQUESTS - Resiliency
---
import { Steps } from '@astrojs/starlight/components';
import NugetBadge from '../../../../../components/NugetBadge.tsx';

<NugetBadge name="Shiny.Mediator.Resilience" label="Shiny.Mediator.Resilience" />

Resiliency is a necessary thing to do discuss when it comes to mobile & network calls.  Cell signals can drop, wifi can be spotty, and servers can be down.  
The `Resilience` middleware is designed to help you handle these situations.  Shiny Mediator provides easy middleware to the actual
workhorse in this equation - Microsoft.Extension.Resilience.  This library provides a number of resiliency patterns such as Circuit Breakers, Retry Policies, and more.

For more documentation on the `Microsoft.Extension.Resilience` library, please see the [official documentation](https://learn.microsoft.com/en-us/dotnet/core/resilience/)

## Setup

<Steps>
1. Install the `Shiny.Mediator.Resilience` package from NuGet

2. Add the resilience middleware to your mediator setup

   ```csharp
   services.AddShinyMediator(options =>
   {
       options.AddResilience();
   });
   ```

3. With any request handler that provides a result, you can now add the following attribute

    ```csharp
    public class MyRequestHandler : IRequestHandler<MyResponse, MyResponse>
    {
        [ResilientRequest]
        public async Task<MyResponse> Handle(MyResponse request, CancellationToken cancelToken)
        {
            // do your work here
        }
    }
    ```
</Steps>

That's it!  Your request handler is now resilient! 