---
title: Advanced Registration
---

## Self Registration

Register a class as itself rather than against its interface:

```csharp
[Singleton(AsSelf = true)]
public class AppState : IStandardInterface;

// Registers as: services.AddSingleton<AppState>();
// NOT as: services.AddSingleton<IStandardInterface, AppState>();
```

## Multiple Interfaces

When a class implements multiple interfaces and is registered as `Singleton` or `Scoped`, Shiny automatically registers it against **all** interfaces with shared instance resolution:

```csharp
[Singleton]
public class MultiService : IServiceA, IServiceB { }
// Both IServiceA and IServiceB resolve to the same MultiService instance
```

To target a specific interface instead:

```csharp
[Singleton(Type = typeof(IServiceA))]
public class MultiService : IServiceA, IServiceB { }
// Only registered against IServiceA
```

## Keyed Services

Register services with a key for disambiguation:

```csharp
[Singleton(KeyedName = "primary")]
public class PrimaryCache : ICache { }

[Singleton(KeyedName = "fallback")]
public class FallbackCache : ICache { }
```

## TryAdd Semantics

Prevent overwriting an existing registration:

```csharp
[Singleton(TryAdd = true)]
public class DefaultLogger : ILogger { }
// Uses TryAddSingleton â€” won't replace an ILogger that's already registered
```
